<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Danh Sách Sản Phẩm</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f8f8f8;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 900px;
            margin: 40px auto;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.10);
            padding: 32px 32px 24px 32px;
        }
        h1 {
            text-align: center;
            color: #2d7a2d;
            margin-bottom: 32px;
            letter-spacing: 1px;
        }
        .product-category {
            margin-bottom: 32px;
        }
        .product-category h2 {
            font-size: 1.5em;
            color: #2d7a2d;
            margin-bottom: 16px;
            text-align: center;
            position: relative;
        }
        .product-category h2::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 2px;
            bottom: -4px;
            left: 0;
            background: linear-gradient(to right, transparent, #2d7a2d, transparent);
        }
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 24px;
        }
        .product-card {
            background: #f9fff9;
            border-radius: 10px;
            box-shadow: 0 1px 6px rgba(0,0,0,0.07);
            padding: 20px 16px 16px 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: box-shadow 0.2s;
            border: 1px solid #e0f2e0;
            position: relative;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
        }
        .product-card:hover {
            box-shadow: 0 4px 16px rgba(45,122,45,0.10);
            border-color: #b6e6b6;
        }
        .product-title {
            font-size: 1.08em;
            color: #1a5e1a;
            margin-bottom: 18px;
            text-align: center;
            min-height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .product-note {
            font-size: 0.98em;
            color: #388e3c;
            margin-top: 4px;
            text-align: center;
            opacity: 0.85;
        }
        /* MOBILE FRIENDLY */
        @media (max-width: 900px) {
            .container {
                padding: 10px 2vw 10px 2vw;
                margin: 0;
            }
            .product-grid {
                gap: 10px;
            }
        }
        @media (max-width: 600px) {
            .container {
                padding: 4px 0.5vw;
                margin: 0;
                border-radius: 0;
                box-shadow: none;
            }
            h1 {
                font-size: 1em;
                margin-bottom: 8px;
            }
            .product-category h2 {
                font-size: 0.98em;
                margin-bottom: 6px;
            }
            .product-grid {
                grid-template-columns: 1fr;
                gap: 6px;
            }
            .product-card {
                padding: 8px 2px 8px 2px;
                min-height: 44px;
            }
            .product-title {
                font-size: 0.95em;
                min-height: 18px;
                margin-bottom: 2px;
            }
            .product-note {
                font-size: 0.9em;
            }
            nav div {
                flex-direction: column;
                gap: 2px;
                align-items: stretch;
            }
            nav a {
                font-size: 0.98em !important;
                padding: 6px 0 !important;
                border-radius: 0 !important;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <nav style="width:100%;background:#eafbe7;padding:12px 0 10px 0;box-shadow:0 2px 8px rgba(45,122,45,0.04);margin-bottom:12px;">
            <div style="max-width:900px;margin:0 auto;display:flex;align-items:center;justify-content:flex-end;gap:12px;">
            <a href="danhsachsanpham.html" style="color:#217a21;font-weight:bold;text-decoration:none;font-size:1.08em;padding:7px 18px;border-radius:6px;transition:background 0.2s;">
                DANH MỤC SẢN PHẨM
            </a>
        <div style="max-width:900px;margin:0 auto;display:flex;align-items:center;justify-content:flex-end;gap:12px;">
            <a href="index.html" style="color:#217a21;font-weight:bold;text-decoration:none;font-size:1.08em;padding:7px 18px;border-radius:6px;transition:background 0.2s;">
                TẠO SẢN PHẨM
            </a>
                <a href="taodanhmuc.html" style="color:#217a21;font-weight:bold;text-decoration:none;font-size:1.08em;padding:7px 18px;border-radius:6px;transition:background 0.2s;">
                TẠO DANH MỤC
            </a>

            <a href="https://minhkhoa0611.github.io/quanlynhansu/QRSCANNER/qr-scanner.html" style="color:#217a21;font-weight:bold;text-decoration:none;font-size:1.08em;padding:7px 18px;border-radius:6px;transition:background 0.2s;">
                QR SCANNER
            </a>
            <a href="https://www.canva.com/design/DAGr5jzmJAw/ZmChp88aCMXM8vCpzuS4_A/edit?utm_content=DAGr5jzmJAw&utm_campaign=designshare&utm_medium=link2&utm_source=sharebutton"
               style="color:#217a21;font-weight:bold;text-decoration:none;font-size:1.08em;padding:7px 18px;border-radius:6px;transition:background 0.2s;">
                CANVA THIẾT KẾ
            </a>
        </div>
    </nav>
    <div class="container">
        <h1>Danh Sách Sản Phẩm</h1>
        <div id="product-list">
            <div style="text-align:center;color:#388e3c;font-size:1.1em;">Đang tải dữ liệu...</div>
        </div>
    </div>
    <footer style="text-align:center; color:#2d7a2d; font-size:1em; margin:28px 0 12px 0; letter-spacing:1px;">
        H'FARM 95 QUẢNG ĐỨC - NHA TRANG  - KHÁNH HÒA<br>
        &copy; 2025 BY Minh Khoa
    </footer>
    <script>
        fetch('products.json')
            .then(res => res.json())
            .then(data => {
                if (!Array.isArray(data)) throw new Error("Dữ liệu không hợp lệ");
                // Gom nhóm theo category
                const groups = {};
                data.forEach(prod => {
                    if (!groups[prod.category]) groups[prod.category] = [];
                    groups[prod.category].push(prod);
                });
                // Tạo HTML
                let html = '';
                Object.keys(groups).forEach(cat => {
                    html += `<div class="product-category">
                        <h2>${cat}</h2>
                        <div class="product-grid">`;
                    groups[cat].forEach(prod => {
                        html += `
                            <a class="product-card" href="${prod.link}" target="_blank" style="text-align:center;">
                                ${prod.image ? `<img src="${prod.image}" alt="${prod.title}" style="max-width:260px;max-height:260px;margin-bottom:10px;border-radius:6px;box-shadow:0 1px 4px rgba(0,0,0,0.07);">` : ''}
                                <div class="product-title" style="text-align:center;">${prod.title}</div>
                                ${prod.note ? `<div class="product-note" style="text-align:center;">${prod.note}</div>` : ''}
                            </a>
                        `;
                    });
                    html += `</div></div>`;
                });
                document.getElementById('product-list').innerHTML = html;
            })
            .catch(() => {
                document.getElementById('product-list').innerHTML = '<div style="color:#e53935;text-align:center;">Không tải được dữ liệu sản phẩm!</div>';
            });
    </script>
</body>
</html>
